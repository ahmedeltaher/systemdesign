<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>شرح Message Queues - بالعامية المصرية</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .cards-grid {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-bottom: 30px;
            max-width: 900px;
            margin: 0 auto 30px auto;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-left: 5px solid;
            width: 100%;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .card.intro { border-left-color: #e74c3c; }
        .card.problem { border-left-color: #e67e22; }
        .card.solution { border-left-color: #27ae60; }
        .card.async-model { border-left-color: #3498db; }
        .card.types { border-left-color: #9b59b6; }
        .card.tools { border-left-color: #f39c12; }
        .card.challenges { border-left-color: #e74c3c; }
        .card.patterns { border-left-color: #1abc9c; }
        .card.when-to-use { border-left-color: #2ecc71; }
        .card.best-practices { border-left-color: #34495e; }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-align: center;
        }

        .card.intro .card-icon { color: #e74c3c; }
        .card.problem .card-icon { color: #e67e22; }
        .card.solution .card-icon { color: #27ae60; }
        .card.async-model .card-icon { color: #3498db; }
        .card.types .card-icon { color: #9b59b6; }
        .card.tools .card-icon { color: #f39c12; }
        .card.challenges .card-icon { color: #e74c3c; }
        .card.patterns .card-icon { color: #1abc9c; }
        .card.when-to-use .card-icon { color: #2ecc71; }
        .card.best-practices .card-icon { color: #34495e; }

        .card h2 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .card p {
            line-height: 1.6;
            color: #34495e;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .example-box {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
        }

        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ffeaa7;
            margin: 15px 0;
        }

        .warning-box {
            background: #f8d7da;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #f5c6cb;
            margin: 15px 0;
            border-left: 4px solid #e74c3c;
        }

        .success-box {
            background: #d4f4dd;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #c3e6cb;
            margin: 15px 0;
            border-left: 4px solid #27ae60;
        }

        /* System diagrams */
        .system-diagram {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
            position: relative;
        }

        .diagram-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 15px;
        }

        .diagram-element {
            background: #3498db;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            font-weight: bold;
            min-width: 120px;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
            position: relative;
        }

        .diagram-element.client { background: #27ae60; }
        .diagram-element.api { background: #e74c3c; }
        .diagram-element.database { background: #f39c12; }
        .diagram-element.queue { background: #9b59b6; }
        .diagram-element.worker { background: #1abc9c; }

        .diagram-arrow {
            font-size: 2rem;
            color: #3498db;
            margin: 0 10px;
        }

        .slow-indicator {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        /* Queue visualization */
        .queue-visualization {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .queue-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .publisher {
            background: #27ae60;
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
        }

        .queue-box {
            background: #9b59b6;
            color: white;
            padding: 15px;
            border-radius: 10px;
            min-width: 200px;
            position: relative;
        }

        .queue-messages {
            display: flex;
            gap: 5px;
            margin-top: 10px;
            justify-content: center;
        }

        .message-item {
            background: #fff;
            color: #9b59b6;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .subscriber {
            background: #1abc9c;
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
        }

        /* Comparison tables */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .comparison-table th {
            background: #3498db;
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 1.1rem;
        }

        .comparison-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #ecf0f1;
        }

        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .good {
            background: #d4f4dd !important;
            color: #27ae60;
            font-weight: bold;
        }

        .bad {
            background: #f8d7da !important;
            color: #e74c3c;
            font-weight: bold;
        }

        .neutral {
            background: #fff3cd !important;
            color: #e67e22;
            font-weight: bold;
        }

        /* Message types grid */
        .types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .type-item {
            background: #e8f0fe;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #9b59b6;
            text-align: center;
            transition: all 0.3s ease;
        }

        .type-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(155, 89, 182, 0.3);
        }

        .type-item i {
            font-size: 2rem;
            color: #9b59b6;
            margin-bottom: 10px;
            display: block;
        }

        .type-item h4 {
            color: #9b59b6;
            margin-bottom: 8px;
        }

        /* Tools grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .tool-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 3px solid #f39c12;
            transition: all 0.3s ease;
        }

        .tool-card:hover {
            background: #e9ecef;
            transform: translateY(-3px);
        }

        .tool-header {
            text-align: center;
            margin-bottom: 15px;
        }

        .tool-header h4 {
            color: #f39c12;
            font-size: 1.3rem;
            margin-bottom: 5px;
        }

        .tool-icon {
            font-size: 2.5rem;
            color: #f39c12;
            margin-bottom: 10px;
        }

        .tool-features {
            list-style: none;
            padding: 0;
        }

        .tool-features li {
            padding: 5px 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .tool-features li:last-child {
            border-bottom: none;
        }

        /* Challenges grid */
        .challenges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .challenge-item {
            background: #f8d7da;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e74c3c;
            text-align: center;
        }

        .challenge-item i {
            font-size: 2rem;
            color: #e74c3c;
            margin-bottom: 10px;
            display: block;
        }

        .challenge-item h4 {
            color: #e74c3c;
            margin-bottom: 8px;
        }

        /* Patterns grid */
        .patterns-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .pattern-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 3px solid #1abc9c;
            transition: all 0.3s ease;
        }

        .pattern-card:hover {
            background: #e9ecef;
            transform: translateY(-3px);
        }

        .pattern-header {
            text-align: center;
            margin-bottom: 15px;
        }

        .pattern-header h4 {
            color: #1abc9c;
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .pattern-icon {
            font-size: 2rem;
            color: #1abc9c;
            margin-bottom: 10px;
        }

        /* When to use scenarios */
        .when-to-use-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .scenario-item {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #2ecc71;
            text-align: center;
            transition: all 0.3s ease;
        }

        .scenario-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
        }

        .scenario-item i {
            font-size: 2rem;
            color: #2ecc71;
            margin-bottom: 10px;
            display: block;
        }

        .scenario-item h4 {
            color: #2ecc71;
            margin-bottom: 8px;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            direction: ltr;
            text-align: left;
            overflow-x: auto;
        }

        .section-header {
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.3rem;
            color: #2c3e50;
        }

        .diagram-text-success {
            color: #27ae60;
        }

        .diagram-text-error {
            color: #e74c3c;
        }

        .diagram-column {
            flex-direction: column;
            gap: 20px;
        }

        .diagram-flex-center {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .pubsub-grid {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
            align-items: center;
            margin: 20px 0;
        }

        .pubsub-column {
            text-align: center;
        }

        .pubsub-item-spacing {
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .cards-grid {
                max-width: 100%;
                padding: 0 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .card {
                padding: 20px;
            }

            .diagram-row {
                flex-direction: column;
                gap: 10px;
            }

            .diagram-arrow {
                transform: rotate(90deg);
            }

            .queue-container {
                flex-direction: column;
            }

            .comparison-table {
                font-size: 0.9rem;
            }
        }

        .emoji {
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📨 شرح Message Queues بالعامية المصرية</h1>
            <p>تعالى نفهم إزاي نخلي التطبيقات تكلم بعض بذكاء وبدون تعليق! 🚀</p>
        </div>

        <div class="cards-grid">
            <!-- مقدمة عن Message Queues -->
            <div class="card intro">
                <div class="card-icon">
                    <i class="fas fa-envelope-open-text"></i>
                </div>
                <h2>إيه هي Message Queues؟ 🤔</h2>
                <p><strong>تخيل معايا:</strong> انت في مطعم مزحوم، والطباخ مش قادر يخلص كل الأوردرات في نفس الوقت!</p>
                
                <div class="example-box">
                    <strong>الفكرة:</strong><br>
                    🧑‍🍳 الطباخ = API Server<br>
                    📋 لستة الأوردرات = Message Queue<br>
                    🍕 كل أوردر = Message<br>
                    👨‍🍳 الطباخين = Workers/Consumers
                </div>
                
                <div class="queue-visualization">
                    <h4>إزاي الـ Message Queue تشتغل</h4>
                    <div class="queue-container">
                        <div class="publisher">
                            📤 Publisher<br>
                            <small>(بيرسل الرسايل)</small>
                        </div>
                        <div class="diagram-arrow">→</div>
                        <div class="queue-box">
                            📬 Message Queue
                            <div class="queue-messages">
                                <div class="message-item">Msg1</div>
                                <div class="message-item">Msg2</div>
                                <div class="message-item">Msg3</div>
                            </div>
                        </div>
                        <div class="diagram-arrow">→</div>
                        <div class="subscriber">
                            📥 Consumer<br>
                            <small>(بيستقبل ويعالج)</small>
                        </div>
                    </div>
                    <p>الرسايل بتتخزن في طابور لحد ما worker يجي ياخدها ويعالجها</p>
                </div>
                
                <p><strong>Message Queue</strong> ده زي صندوق بريد ذكي بين التطبيقات المختلفة!</p>
                
                <div class="highlight">
                    <strong>🎯 الهدف:</strong> نخلي النظام أسرع ومش معتمد على بعضه البعض!
                </div>
            </div>

            <!-- المشكلة في النظام التقليدي -->
            <div class="card problem">
                <div class="card-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h2>إيه المشكلة في النظام التقليدي؟ 😰</h2>
                <p>تعالى نشوف إيش بيحصل في Request-Response التقليدي:</p>
                
                <div class="system-diagram">
                    <h4>النظام البطيء (Synchronous)</h4>
                    <div class="diagram-row">
                        <div class="diagram-element client">Client</div>
                        <div class="diagram-arrow">→</div>
                        <div class="diagram-element api">
                            API
                            <div class="slow-indicator">😴</div>
                        </div>
                        <div class="diagram-arrow">→</div>
                        <div class="diagram-element database">
                            Database
                            <div class="slow-indicator">🐌</div>
                        </div>
                    </div>
                    <p class="diagram-text-error">الـ Client مستني لحد ما كل حاجة تخلص!</p>
                </div>
                
                <div class="warning-box">
                    <strong>🚨 المشاكل:</strong><br>
                    • <strong>Response Time طويل:</strong> العميل يستنى كتير<br>
                    • <strong>Blocking Requests:</strong> طلب يأخر اللي وراه<br>
                    • <strong>Tight Coupling:</strong> العمليات مربوطة في بعض<br>
                    • <strong>Single Point of Failure:</strong> لو حاجة عطلت، كله يقف
                </div>
                
                <div class="example-box">
                    <strong>مثال من الواقع:</strong><br>
                    انت طلبت تحديث profile + إرسال email تأكيد. النظام التقليدي:<br>
                    1️⃣ يحدث الـ profile (2 ثانية)<br>
                    2️⃣ يرسل email (5 ثوان)<br>
                    3️⃣ يرجعلك response بعد 7 ثوان! 😵
                </div>
                
                <div class="highlight">
                    <strong>💡 الحل:</strong> نفصل العمليات عن بعض باستخدام Message Queues!
                </div>
            </div>

            <!-- الحل باستخدام Message Queues -->
            <div class="card solution">
                <div class="card-icon">
                    <i class="fas fa-magic"></i>
                </div>
                <h2>الحل السحري: Message Queues! ✨</h2>
                <p>تعالى نشوف إزاي الـ Message Queues حلت المشكلة:</p>
                
                <div class="system-diagram">
                    <h4>النظام المحسن (Asynchronous)</h4>
                    <div class="diagram-row diagram-column">
                        <div class="diagram-flex-center">
                            <div class="diagram-element client">Client</div>
                            <div class="diagram-arrow">→</div>
                            <div class="diagram-element api">API (سريع!)</div>
                            <div class="diagram-arrow">→</div>
                            <div class="diagram-element client">✅ Response</div>
                        </div>
                        
                        <div class="diagram-flex-center">
                            <div class="diagram-element api">API</div>
                            <div class="diagram-arrow">↓</div>
                            <div class="diagram-element queue">Message Queue</div>
                            <div class="diagram-arrow">→</div>
                            <div class="diagram-element worker">Workers</div>
                        </div>
                    </div>
                    <p class="diagram-text-success">الـ Client ياخد response فوري، والشغل يكمل في الخلفية!</p>
                </div>
                
                <div class="success-box">
                    <strong>✅ المميزات:</strong><br>
                    • <strong>Fast Response:</strong> العميل ياخد رد فوري<br>
                    • <strong>Decoupling:</strong> العمليات منفصلة عن بعض<br>
                    • <strong>Scalability:</strong> نقدر نزود workers أكتر<br>
                    • <strong>Fault Tolerance:</strong> لو worker عطل، message تتعاد<br>
                    • <strong>Load Distribution:</strong> الشغل موزع على workers كتير
                </div>
                
                <div class="example-box">
                    <strong>نفس المثال بالـ Message Queue:</strong><br>
                    1️⃣ API يحدث الـ profile (2 ثانية)<br>
                    2️⃣ يرسل message للـ email queue<br>
                    3️⃣ يرجعلك response فوري! (2 ثانية بس) 🚀<br>
                    4️⃣ Email worker يرسل الـ email في الخلفية
                </div>
                
                <div class="highlight">
                    <strong>🎯 النتيجة:</strong> النظام بقى أسرع × 3 وأكثر مرونة!
                </div>
            </div>

            <!-- نموذج Publish/Subscribe -->
            <div class="card async-model">
                <div class="card-icon">
                    <i class="fas fa-broadcast-tower"></i>
                </div>
                <h2>نموذج Publish/Subscribe 📡</h2>
                <p>تعالى نفهم إزاي الـ publishers والـ subscribers يشتغلوا:</p>
                
                <div class="queue-visualization">
                    <h4>نموذج Publisher/Subscriber</h4>
                    <div class="pubsub-grid">
                        <div class="pubsub-column">
                            <div class="publisher pubsub-item-spacing">
                                📤 Publisher 1<br>
                                <small>User Service</small>
                            </div>
                            <div class="publisher">
                                📤 Publisher 2<br>
                                <small>Order Service</small>
                            </div>
                        </div>
                        
                        <div class="pubsub-column">
                            <div class="queue-box">
                                📬 Message Queue<br>
                                <small>Email Queue</small>
                                <div class="queue-messages">
                                    <div class="message-item">Email1</div>
                                    <div class="message-item">Email2</div>
                                    <div class="message-item">Email3</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="pubsub-column">
                            <div class="subscriber pubsub-item-spacing">
                                📥 Consumer 1<br>
                                <small>Email Worker</small>
                            </div>
                            <div class="subscriber">
                                📥 Consumer 2<br>
                                <small>SMS Worker</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="example-box">
                    <strong>مثال عملي - متجر إلكتروني:</strong><br>
                    • <strong>Publisher:</strong> Order Service (لما عميل يطلب أوردر)<br>
                    • <strong>Message:</strong> "أوردر جديد رقم #12345"<br>
                    • <strong>Consumers:</strong><br>
                    &nbsp;&nbsp;&nbsp;- Email Worker (يرسل تأكيد)<br>
                    &nbsp;&nbsp;&nbsp;- Inventory Worker (يقلل المخزون)<br>
                    &nbsp;&nbsp;&nbsp;- Shipping Worker (يحضر الشحنة)
                </div>
                
                <div class="highlight">
                    <strong>💡 الجمال في الموضوع:</strong> كل worker شغال لوحده، ومحدش معتمد على التاني!
                </div>
                
                <div class="warning-box">
                    <strong>⚠️ لازم نحذر من:</strong> Consistency Issues - لو العملية مش idempotent ممكن تحصل مشاكل!
                </div>
            </div>

            <!-- أنواع Message Queues -->
            <div class="card types">
                <div class="card-icon">
                    <i class="fas fa-list-alt"></i>
                </div>
                <h2>أنواع Message Queues 📝</h2>
                <p>في أنواع مختلفة من الـ Message Queues، كل نوع له استخدامه:</p>
                
                <div class="types-grid">
                    <div class="type-item">
                        <i class="fas fa-arrow-right"></i>
                        <h4>Point-to-Point</h4>
                        <p>رسالة واحدة لـ consumer واحد بس</p>
                        <small>مثال: Payment Processing</small>
                    </div>
                    <div class="type-item">
                        <i class="fas fa-broadcast-tower"></i>
                        <h4>Publish/Subscribe</h4>
                        <p>رسالة واحدة لـ consumers كتير</p>
                        <small>مثال: Notifications</small>
                    </div>
                    <div class="type-item">
                        <i class="fas fa-layer-group"></i>
                        <h4>Topic-based</h4>
                        <p>الرسايل مقسمة حسب الموضوع</p>
                        <small>مثال: News Categories</small>
                    </div>
                    <div class="type-item">
                        <i class="fas fa-filter"></i>
                        <h4>Content-based</h4>
                        <p>الرسايل بتتفلتر حسب المحتوى</p>
                        <small>مثال: Alert Systems</small>
                    </div>
                    <div class="type-item">
                        <i class="fas fa-clock"></i>
                        <h4>Priority Queue</h4>
                        <p>الرسايل المهمة تتعامل الأول</p>
                        <small>مثال: Emergency Alerts</small>
                    </div>
                    <div class="type-item">
                        <i class="fas fa-calendar-alt"></i>
                        <h4>Delayed Queue</h4>
                        <p>الرسايل تتأجل لوقت معين</p>
                        <small>مثال: Scheduled Emails</small>
                    </div>
                </div>
                
                <div class="comparison-table">
                    <thead>
                        <tr>
                            <th>النوع</th>
                            <th>عدد Consumers</th>
                            <th>الاستخدام الأفضل</th>
                            <th>التعقيد</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Point-to-Point</strong></td>
                            <td class="good">واحد بس</td>
                            <td>Task Processing</td>
                            <td class="good">بسيط</td>
                        </tr>
                        <tr>
                            <td><strong>Pub/Sub</strong></td>
                            <td class="neutral">متعدد</td>
                            <td>Real-time Updates</td>
                            <td class="neutral">متوسط</td>
                        </tr>
                        <tr>
                            <td><strong>Topic-based</strong></td>
                            <td class="neutral">متعدد</td>
                            <td>Event Streaming</td>
                            <td class="bad">معقد</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- أشهر الأدوات -->
            <div class="card tools">
                <div class="card-icon">
                    <i class="fas fa-toolbox"></i>
                </div>
                <h2>أشهر أدوات Message Queues 🛠️</h2>
                <p>تعالى نشوف أشهر الأدوات اللي ممكن نستخدمها:</p>
                
                <div class="tools-grid">
                    <div class="tool-card">
                        <div class="tool-header">
                            <div class="tool-icon">🐰</div>
                            <h4>RabbitMQ</h4>
                        </div>
                        <p><strong>النوع:</strong> Message Broker</p>
                        <p><strong>أفضل لـ:</strong> المشاريع المتوسطة والمعقدة</p>
                        <ul class="tool-features">
                            <li>✅ سهل الاستخدام والإعداد</li>
                            <li>✅ يدعم protocols كتيرة</li>
                            <li>✅ Management UI ممتاز</li>
                            <li>❌ مش الأسرع في الأداء</li>
                        </ul>
                        <div class="code-block">
# Basic RabbitMQ Example
import pika
connection = pika.BlockingConnection(
    pika.ConnectionParameters('localhost'))
channel = connection.channel()
channel.queue_declare(queue='hello')
                        </div>
                    </div>
                    
                    <div class="tool-card">
                        <div class="tool-header">
                            <div class="tool-icon">⚡</div>
                            <h4>Apache Kafka</h4>
                        </div>
                        <p><strong>النوع:</strong> Distributed Streaming Platform</p>
                        <p><strong>أفضل لـ:</strong> Big Data والـ Real-time Analytics</p>
                        <ul class="tool-features">
                            <li>✅ أداء عالي جداً</li>
                            <li>✅ يتحمل load كبير</li>
                            <li>✅ Persistent storage</li>
                            <li>❌ معقد في الإعداد</li>
                        </ul>
                        <div class="code-block">
# Kafka Producer Example
from kafka import KafkaProducer
producer = KafkaProducer(
    bootstrap_servers=['localhost:9092'])
producer.send('my-topic', b'Hello World')
                        </div>
                    </div>
                    
                    <div class="tool-card">
                        <div class="tool-header">
                            <div class="tool-icon">🔴</div>
                            <h4>Redis Queues</h4>
                        </div>
                        <p><strong>النوع:</strong> In-memory Message Queue</p>
                        <p><strong>أفضل لـ:</strong> المشاريع البسيطة والسريعة</p>
                        <ul class="tool-features">
                            <li>✅ سرعة فائقة</li>
                            <li>✅ بساطة في الاستخدام</li>
                            <li>✅ يدعم data structures مختلفة</li>
                            <li>❌ محدود في التعقيد</li>
                        </ul>
                        <div class="code-block">
# Redis Queue Example
import redis
r = redis.Redis(host='localhost', port=6379)
r.lpush('my_queue', 'message_data')
message = r.brpop('my_queue')
                        </div>
                    </div>
                    
                    <div class="tool-card">
                        <div class="tool-header">
                            <div class="tool-icon">☁️</div>
                            <h4>AWS SQS</h4>
                        </div>
                        <p><strong>النوع:</strong> Cloud Message Queue</p>
                        <p><strong>أفضل لـ:</strong> التطبيقات السحابية</p>
                        <ul class="tool-features">
                            <li>✅ Fully managed</li>
                            <li>✅ Auto-scaling</li>
                            <li>✅ High availability</li>
                            <li>❌ مكلف مع الوقت</li>
                        </ul>
                        <div class="code-block">
# AWS SQS Example
import boto3
sqs = boto3.client('sqs')
response = sqs.send_message(
    QueueUrl='https://sqs.region.amazonaws.com/account/queue',
    MessageBody='Hello from SQS'
)
                        </div>
                    </div>
                </div>
                
                <div class="highlight">
                    <strong>🎯 توصيتنا:</strong> Redis للبساطة، RabbitMQ للمشاريع المتوسطة، Kafka للـ Big Data!
                </div>
            </div>

            <!-- التحديات والمشاكل -->
            <div class="card challenges">
                <div class="card-icon">
                    <i class="fas fa-exclamation-circle"></i>
                </div>
                <h2>التحديات والمشاكل ⚠️</h2>
                <p>Message Queues مش كلها مميزات! في تحديات لازم نحطها في اعتبارنا:</p>
                
                <div class="challenges-grid">
                    <div class="challenge-item">
                        <i class="fas fa-sync-alt"></i>
                        <h4>Consistency Issues</h4>
                        <p>مشاكل التزامن والـ race conditions</p>
                    </div>
                    <div class="challenge-item">
                        <i class="fas fa-copy"></i>
                        <h4>Message Duplication</h4>
                        <p>نفس الرسالة تتعالج أكتر من مرة</p>
                    </div>
                    <div class="challenge-item">
                        <i class="fas fa-sort-numeric-down"></i>
                        <h4>Message Ordering</h4>
                        <p>ترتيب الرسائل مش مضمون</p>
                    </div>
                    <div class="challenge-item">
                        <i class="fas fa-skull-crossbones"></i>
                        <h4>Dead Letter Queues</h4>
                        <p>رسائل فاشلة تتراكم</p>
                    </div>
                    <div class="challenge-item">
                        <i class="fas fa-eye"></i>
                        <h4>Monitoring & Debugging</h4>
                        <p>صعوبة تتبع الرسائل</p>
                    </div>
                    <div class="challenge-item">
                        <i class="fas fa-network-wired"></i>
                        <h4>Network Partitions</h4>
                        <p>مشاكل الشبكة والاتصال</p>
                    </div>
                </div>
                
                <div class="warning-box">
                    <strong>🚨 مثال خطير - مشكلة الـ Inventory:</strong><br>
                    عندك جزمتين بس في المخزون، ورسالة في الـ queue لطلب جزمتين.<br>
                    لو جه طلب تاني وشاف المخزون قبل ما الطلب الأول يتعالج، هيسمحله بالطلب!<br>
                    النتيجة: عندك طلبين لـ 4 جزم، بس المخزون فيه 2 بس! 💥
                </div>
                
                <div class="example-box">
                    <strong>حلول للمشاكل الشائعة:</strong><br>
                    • <strong>Idempotency:</strong> اعمل operations بحيث تقدر تعيدها<br>
                    • <strong>Message Deduplication:</strong> استخدم unique IDs<br>
                    • <strong>Ordering Guarantees:</strong> استخدم partitioned queues<br>
                    • <strong>Dead Letter Queues:</strong> للرسائل الفاشلة<br>
                    • <strong>Circuit Breakers:</strong> لتجنب cascade failures
                </div>
                
                <div class="highlight">
                    <strong>💡 القاعدة الذهبية:</strong> فكر في الـ failure scenarios من البداية!
                </div>
            </div>

            <!-- أنماط الاستخدام -->
            <div class="card patterns">
                <div class="card-icon">
                    <i class="fas fa-puzzle-piece"></i>
                </div>
                <h2>أنماط الاستخدام الشائعة 🧩</h2>
                <p>في أنماط معروفة لاستخدام Message Queues، تعالى نشوفها:</p>
                
                <div class="patterns-grid">
                    <div class="pattern-card">
                        <div class="pattern-header">
                            <div class="pattern-icon">🏃‍♂️</div>
                            <h4>Task Queue Pattern</h4>
                        </div>
                        <p><strong>الاستخدام:</strong> توزيع المهام على workers</p>
                        <p><strong>مثال:</strong> Image processing، File conversion</p>
                        <p><strong>مميز:</strong> Load balancing تلقائي</p>
                    </div>
                    
                    <div class="pattern-card">
                        <div class="pattern-header">
                            <div class="pattern-icon">📢</div>
                            <h4>Event Sourcing</h4>
                        </div>
                        <p><strong>الاستخدام:</strong> تسجيل كل التغييرات كـ events</p>
                        <p><strong>مثال:</strong> Banking transactions، Audit logs</p>
                        <p><strong>مميز:</strong> تاريخ كامل للبيانات</p>
                    </div>
                    
                    <div class="pattern-card">
                        <div class="pattern-header">
                            <div class="pattern-icon">🔔</div>
                            <h4>Event Notification</h4>
                        </div>
                        <p><strong>الاستخدام:</strong> إشعار السيستمز الأخرى بالتغييرات</p>
                        <p><strong>مثال:</strong> User registration، Order updates</p>
                        <p><strong>مميز:</strong> Real-time notifications</p>
                    </div>
                    
                    <div class="pattern-card">
                        <div class="pattern-header">
                            <div class="pattern-icon">🔄</div>
                            <h4>CQRS Pattern</h4>
                        </div>
                        <p><strong>الاستخدام:</strong> فصل القراءة عن الكتابة</p>
                        <p><strong>مثال:</strong> Analytics systems، Reporting</p>
                        <p><strong>مميز:</strong> Performance optimization</p>
                    </div>
                    
                    <div class="pattern-card">
                        <div class="pattern-header">
                            <div class="pattern-icon">⏰</div>
                            <h4>Saga Pattern</h4>
                        </div>
                        <p><strong>الاستخدام:</strong> إدارة transactions المعقدة</p>
                        <p><strong>مثال:</strong> E-commerce checkout، Microservices</p>
                        <p><strong>مميز:</strong> Distributed transactions</p>
                    </div>
                    
                    <div class="pattern-card">
                        <div class="pattern-header">
                            <div class="pattern-icon">🔁</div>
                            <h4>Request-Reply</h4>
                        </div>
                        <p><strong>الاستخدام:</strong> Async request مع response</p>
                        <p><strong>مثال:</strong> API Gateway، Service mesh</p>
                        <p><strong>مميز:</strong> Non-blocking requests</p>
                    </div>
                </div>
                
                <div class="example-box">
                    <strong>مثال عملي - E-commerce Order:</strong><br>
                    1️⃣ <strong>Event Notification:</strong> "Order Created"<br>
                    2️⃣ <strong>Task Queue:</strong> Payment processing<br>
                    3️⃣ <strong>Saga Pattern:</strong> إدارة inventory + shipping + billing<br>
                    4️⃣ <strong>Event Sourcing:</strong> تسجيل كل خطوة للـ audit
                </div>
            </div>

            <!-- امتى نستخدم Message Queues -->
            <div class="card when-to-use">
                <div class="card-icon">
                    <i class="fas fa-question-circle"></i>
                </div>
                <h2>امتى نستخدم Message Queues؟ 🤔</h2>
                <p>مش كل مشروع محتاج Message Queue! تعالى نشوف امتى نحتاجها:</p>
                
                <div class="when-to-use-grid">
                    <div class="scenario-item">
                        <i class="fas fa-clock"></i>
                        <h4>Long Running Tasks</h4>
                        <p>عمليات تاخد وقت طويل زي video processing</p>
                    </div>
                    <div class="scenario-item">
                        <i class="fas fa-envelope"></i>
                        <h4>Notification Systems</h4>
                        <p>إرسال emails، SMS، push notifications</p>
                    </div>
                    <div class="scenario-item">
                        <i class="fas fa-chart-line"></i>
                        <h4>High Traffic</h4>
                        <p>لما يكون عندك load عالي ومحتاج تخفف الضغط</p>
                    </div>
                    <div class="scenario-item">
                        <i class="fas fa-microchip"></i>
                        <h4>Microservices</h4>
                        <p>التواصل بين الـ microservices المختلفة</p>
                    </div>
                    <div class="scenario-item">
                        <i class="fas fa-redo"></i>
                        <h4>Retry Logic</h4>
                        <p>عمليات ممكن تفشل ومحتاجة إعادة محاولة</p>
                    </div>
                    <div class="scenario-item">
                        <i class="fas fa-users"></i>
                        <h4>User Experience</h4>
                        <p>عشان المستخدم ياخد response سريع</p>
                    </div>
                </div>
                
                <div class="comparison-table">
                    <thead>
                        <tr>
                            <th>السيناريو</th>
                            <th>بدون Message Queue</th>
                            <th>مع Message Queue</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>إرسال Email</strong></td>
                            <td class="bad">User يستنى 5 ثوان</td>
                            <td class="good">Response فوري</td>
                        </tr>
                        <tr>
                            <td><strong>Image Processing</strong></td>
                            <td class="bad">Server يتعلق</td>
                            <td class="good">Background processing</td>
                        </tr>
                        <tr>
                            <td><strong>High Load</strong></td>
                            <td class="bad">System crash</td>
                            <td class="good">Load distribution</td>
                        </tr>
                        <tr>
                            <td><strong>Service Failure</strong></td>
                            <td class="bad">Data loss</td>
                            <td class="good">Retry automatically</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="warning-box">
                    <strong>⚠️ متستخدمش Message Queue لو:</strong><br>
                    • النظام بسيط جداً وقليل الاستخدام<br>
                    • محتاج real-time response فوري<br>
                    • البيانات حساسة أوي للـ consistency<br>
                    • الفريق مش عارف يتعامل مع الـ complexity
                </div>
                
                <div class="highlight">
                    <strong>💡 القاعدة:</strong> ابدأ بسيط، وضيف Message Queue لما تحتاجها فعلاً!
                </div>
            </div>

            <!-- Best Practices -->
            <div class="card best-practices">
                <div class="card-icon">
                    <i class="fas fa-star"></i>
                </div>
                <h2>Best Practices - نصائح الخبراء 💯</h2>
                <p>نصائح مهمة عشان تستخدم Message Queues زي المحترفين:</p>
                
                <h3 class="section-header">🔧 Design Best Practices:</h3>
                <div class="success-box">
                    <strong>✅ في التصميم:</strong><br>
                    • <strong>Keep Messages Small:</strong> رسائل صغيرة أفضل من كبيرة<br>
                    • <strong>Idempotent Operations:</strong> اعمل operations تقدر تعيدها بأمان<br>
                    • <strong>Message Versioning:</strong> حط version للرسائل<br>
                    • <strong>Dead Letter Queues:</strong> للرسائل الفاشلة<br>
                    • <strong>Message TTL:</strong> حط expiry time للرسائل القديمة
                </div>
                
                <h3 class="section-header">⚡ Performance Best Practices:</h3>
                <div class="success-box">
                    <strong>✅ للأداء:</strong><br>
                    • <strong>Batch Processing:</strong> اعالج رسائل كتيرة مع بعض<br>
                    • <strong>Connection Pooling:</strong> استخدم connection pool<br>
                    • <strong>Async Processing:</strong> خلي الـ workers async<br>
                    • <strong>Proper Indexing:</strong> للـ message properties<br>
                    • <strong>Memory Management:</strong> راقب استهلاك الذاكرة
                </div>
                
                <h3 class="section-header">🛡️ Security & Monitoring:</h3>
                <div class="success-box">
                    <strong>✅ للأمان والمراقبة:</strong><br>
                    • <strong>Message Encryption:</strong> شفر الرسائل الحساسة<br>
                    • <strong>Access Control:</strong> تحكم في من يدخل إيه<br>
                    • <strong>Audit Logging:</strong> سجل كل العمليات<br>
                    • <strong>Health Checks:</strong> راقب صحة الـ queues<br>
                    • <strong>Alerting:</strong> تنبيهات للمشاكل
                </div>
                
                <div class="warning-box">
                    <strong>❌ أخطاء شائعة تتجنبها:</strong><br>
                    • متحطش business logic في الـ message format<br>
                    • متسيبش الـ queues تفيض من غير monitoring<br>
                    • متعتمدش على message ordering 100%<br>
                    • متنساش الـ error handling والـ retry logic<br>
                    • متستخدمش message queues كـ database
                </div>
                
                <div class="example-box">
                    <strong>🔍 أدوات المراقبة المهمة:</strong><br>
                    • <strong>Queue Length:</strong> عدد الرسائل المنتظرة<br>
                    • <strong>Processing Time:</strong> وقت معالجة الرسائل<br>
                    • <strong>Error Rate:</strong> نسبة الرسائل الفاشلة<br>
                    • <strong>Throughput:</strong> عدد الرسائل في الثانية<br>
                    • <strong>Consumer Health:</strong> حالة الـ workers
                </div>
                
                <div class="highlight">
                    <strong>🏆 النصيحة الذهبية:</strong> "Design for failure, monitor everything, and keep it simple!" - صمم للفشل، راقب كل حاجة، وخليها بسيطة!
                </div>
            </div>
        </div>
    </div>

    <script>
        // إضافة تأثيرات تفاعلية
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.card');
            
            // تأثير الانيميشن عند التحميل
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 200);
            });
            
            // تأثير النقر على الكروت
            cards.forEach(card => {
                card.addEventListener('click', function() {
                    this.style.transform = 'scale(1.02)';
                    setTimeout(() => {
                        this.style.transform = 'translateY(-5px)';
                    }, 200);
                });
            });

            // تأثير hover على الجداول
            const tableRows = document.querySelectorAll('.comparison-table tr');
            tableRows.forEach(row => {
                row.addEventListener('mouseenter', function() {
                    if (!this.querySelector('th')) {
                        this.style.transform = 'scale(1.02)';
                        this.style.transition = 'transform 0.2s ease';
                    }
                });
                row.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                });
            });

            // تأثير على الـ queue visualization
            const queueElements = document.querySelectorAll('.queue-box, .publisher, .subscriber');
            queueElements.forEach(element => {
                element.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.05) rotate(1deg)';
                    this.style.transition = 'transform 0.3s ease';
                });
                element.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1) rotate(0deg)';
                });
            });

            // تأثير على الـ tool cards
            const toolCards = document.querySelectorAll('.tool-card, .pattern-card, .type-item');
            toolCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px) scale(1.02)';
                });
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });

            // تحريك الرسائل في الـ queue
            const messageItems = document.querySelectorAll('.message-item');
            messageItems.forEach((message, index) => {
                setInterval(() => {
                    message.style.opacity = '0.5';
                    setTimeout(() => {
                        message.style.opacity = '1';
                    }, 300);
                }, 2000 + (index * 500));
            });
        });
    </script>
</body>
</html>